<!-- app/views/layouts/application.html.erb -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UHO EduTrack</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
</head>
<body class="bg-gray-100">
    <% if user_signed_in? %>
        <div class="flex h-screen">
            <!-- Sidebar -->
            <div class="w-64 bg-blue-600 text-white">
                <div class="p-4">
                    <img class="h-16 w-16 mx-auto rounded-full border-2 border-white" src="<%= asset_path('Logo_Universitas_Halu_Oleo.png') %>" alt="UHO Logo">
                    <div class="mt-4 text-center">
                        <p class="font-semibold">Welcome,</p>
                        <p class="text-sm"><%= current_user.email %></p>
                    </div>
                </div>
                <nav class="mt-8">
                    <a href="/" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700">
                        Dashboard
                    </a>
                    <!--
                    <a href="/profile" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700">
                        Profile
                    </a> 
                    -->
                    <%= button_to "Logout", destroy_user_session_path, method: :delete, class: "w-full text-left py-2.5 px-4 rounded transition duration-200 hover:bg-blue-700" %>
                </nav>
            </div>

            <!-- Main Content -->
            <div class="flex-1 overflow-x-hidden overflow-y-auto">
                <% if notice %>
                    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
                        <span class="block sm:inline"><%= notice %></span>
                    </div>
                <% end %>
                <% if alert %>
                    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                        <span class="block sm:inline"><%= alert %></span>
                    </div>
                <% end %>
                
                <h1 class="text-3xl font-bold text-center text-blue-500 mb-4">UHO EduTrack</h1>
                <h2 class="text-3xl font-bold text-center text-blue-500 mb-4"><%= @course_title %></h2>
                <div class="p-6 max-w-6xl mx-auto">
                    <%= yield %>
                </div>
            </div>
        </div>
    <% else %>
        <%= yield %>
    <% end %>
</body>
</html>